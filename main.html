<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Better Instagram</title>
    <style>
        #div1 {
            background-image: url("https://picsum.photos/id/237/200/300");
            height: 300px;
            width: 200px;
            margin: 20px;
        }

        #div2 {
            background-image: url("https://picsum.photos/seed/picsum/200/300");
            height: 300px;
            width: 200px;
            margin: 20px;
        }

        #div3 {
            background-image: url("https://picsum.photos/200/300?grayscale");
            height: 300px;
            width: 200px;
            margin: 20px;
        }

        #div4 {
            background-image: url("https://picsum.photos/200/300/");
            height: 300px;
            width: 200px;
            margin: 20px;
        }

        #div5 {
            background-image: url("https://picsum.photos/200/300.jpg");
            height: 300px;
            width: 200px;
            margin: 20px;
        }

        #div6 {
            background-image: url("https://picsum.photos/id/102/200/300");
            height: 300px;
            width: 200px;
            margin: 20px;
        }

        .flex {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            min-height: 100vh;
        }

        .image {
            cursor: move;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-weight: bold;
            font-size: 24px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            background-size: cover;
            background-position: center;
            transition: all 0.3s ease;
            user-select: none;
        }

        .image.dragging {
            opacity: 0.5;
            transform: scale(0.95);
            border: 3px dashed #ffffff;
        }

        .image.over {
            border: 3px solid #00c3ff;
            transform: scale(1.05);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            padding-top: 20px;
        }
    </style>
</head>
<body>
    <h1>Arrange Images by drag and drop</h1>
    <div class="flex" id="parent">
        <div draggable="true" class="image" id="div1">Image 1</div>
        <div draggable="true" class="image" id="div2">Image 2</div>
        <div draggable="true" class="image" id="div3">Image 3</div>
        <div draggable="true" class="image" id="div4">Image 4</div>
        <div draggable="true" class="image" id="div5">Image 5</div>
        <div draggable="true" class="image" id="div6">Image 6</div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const images = document.querySelectorAll('.image');
            const parent = document.getElementById('parent');

            // Add event listeners to each image
            images.forEach(image => {
                image.addEventListener('dragstart', handleDragStart);
                image.addEventListener('dragend', handleDragEnd);
                image.addEventListener('dragover', handleDragOver);
                image.addEventListener('dragenter', handleDragEnter);
                image.addEventListener('dragleave', handleDragLeave);
                image.addEventListener('drop', handleDrop);
            });

            let draggedItem = null;

            function handleDragStart(e) {
                draggedItem = this;
                e.dataTransfer.effectAllowed = 'move';
                e.dataTransfer.setData('text/html', this.innerHTML);
                this.classList.add('dragging');
                setTimeout(() => this.style.display = 'none', 0);
            }

            function handleDragEnd() {
                this.classList.remove('dragging');
                this.style.display = 'flex';
                images.forEach(img => img.classList.remove('over'));
            }

            function handleDragOver(e) {
                e.preventDefault();
                e.dataTransfer.dropEffect = 'move';
                return false;
            }

            function handleDragEnter(e) {
                e.preventDefault();
                if (this !== draggedItem) {
                    this.classList.add('over');
                }
            }

            function handleDragLeave() {
                this.classList.remove('over');
            }

            function handleDrop(e) {
                e.preventDefault();
                e.stopPropagation();
                
                if (draggedItem !== this) {
                    // Get all current images (since order may have changed)
                    const currentImages = Array.from(parent.querySelectorAll('.image'));
                    const draggedIndex = currentImages.indexOf(draggedItem);
                    const dropIndex = currentImages.indexOf(this);
                    
                    if (draggedIndex < dropIndex) {
                        parent.insertBefore(this, draggedItem);
                    } else {
                        parent.insertBefore(draggedItem, this.nextSibling);
                    }
                }
                
                this.classList.remove('over');
                return false;
            }
        });
    </script>
</body>
</html>